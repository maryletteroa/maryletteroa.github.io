---
layout: post
title: uv Python package and project manager
categories: [blog]
tags: [python]
mermaid: true
---

`uv` is a Python package and project manager that's written in Rust and is popular for its speed and efficiency. Its features include: dependency installation and management, creation and reproduction of virtual environments, and it also helps with building and publishing Python packages.

Here are some commands in order to use `uv`.


## Installation 
For Windows
```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

For Linux + macOS

```bash
wget -qO- https://astral.sh/uv/install.sh | sh
```

or Using PyPI
```bash
pipx install uv
```

Check installation
```bash
uv --version
```

Restarted or refresh the terminal if the binary doesn't register immediately.

## Create a Python project

`uv` can create a project directory using the following command:

```bash
uv init <project_name>
```

It's also possible to create the directory structure in an existing project. Go to the current project directory and initialize.

```bash
uv init
```

This doesn't work if there is an existing `pyproject.toml` file. It doesn't overwrite existing `main.py`, Git repository, or `README.md` file.

Running the entry-point script creates a virtual environment `.venv` for the project.

```bash
uv run main.py
```

## Manage dependencies

Install a dependency, e.g. `requests` Python library.

```bash
uv add requests
```

`uv` will automatically update the list of dependencies in the `pyproject.toml` file.

To add an exiting `requirements.txt` file to `uv`:

```bash
uv add -r requirements.txt
```

List all installed dependencies:

```bash
uv pip list
```


## Update dependency

To update an existing dependency:

```bash
uv add --upgrade requests
```

To remove an existing dependency:

```bash
uv remove requests
```

## Manage development dependencies

Use the `--dev` flag to denote a dependency as part of development, e.g. the `pytest` library

```bash
uv add --dev pytest
```

## Locking and syncing dependencies

`lock` means capturing a project's dependencies so that the project's working environment becomes reproducible. These are all written into the project's lockfile.

`sync` is the process of installing the required packages from the lockfile into the project's environment.

Both locking and syncing are automatically handled by `uv`. When `uv run` is invoked, the project is first locked and synced before the command is run.

To manually lock and/or sync the project, run the following, respectively:

```bash
uv lock
uv sync
```

## More

For steps on how to build and publish Python packages using `uv` check the Real Python post:  [Managing Python Projects With uv: An All-in-One Solution](https://realpython.com/python-uv)
